# SQL (structured query language) 语句

## SQL 分类

- DDL: Data Definitian Languages 数据定义语言
	- 创建数据库对象
	- CREATE \ ALTER \ DROP \ RENAME \ TRUNCATE
- DML: Data Manipulation Language 数据操作 语言
	- 针对 record 的操作行为
	- INSERT \ DELETE \ UPDATE \ SELECT
- DCL: Data Control Language 数据控制语言
	- 控制操作
	- COMMIT \ ROLLBACK \ SAVEPOINT \ GRANT \ REVOKE

## SQL 规则与规范

- 规则
	- 可写在一行或多行
	- 每条命令必须以 ; 或 \g, \G (输出以行的形式) 结束
	- 字符串、日期时间类型的变量要用 ''
	- 列的别名使用 ""
- 规范
	- 数据库名、表名、表别名、字段名、字段别名等都小写
	- SQL 关键字、函数名、绑定变量等都大写
- 注释
	- 单行 #
	- 单行 --空格
	- 多行 /* */
- 导入现有的数据表、表的数据
	- 方式1: source 文件的全路径名
		- source ./atguigudb.sql
	- 方式2: GUI

## SELECT 语句

- 最基本的语句
	- SELECT 字段， 字段 FROM 字段所在表的表名
	- SELECT 1 + 1, 3 * 2 [FROM DUAL
];
		- DUAL 伪表
	- SELECT * FROM ...
-  列的别名
	- [AS]
	- [""]
- 去重
	- SELECT DISTINCT ...
- 空值参与运算
	- 空值: NULL
	- NULL 不等同于 0, ' ', 'null'
	- 参与运算
		- 结果为 NULL
		- 函数 IFNULL(commission_pct, 0)
- 着重号 ``
	- 用着重号转义关键字
- 查询常数
	- SELECT '尚硅谷', 123, emplyee_id, last_name FROM employees;
- 显示表结构 (详细信息)
	- DESCRIBE employees;
	- DESC employees;
- 过滤数据
	- WHERE
	 - MySQL 在 Windows 下不区分大小写
	- 紧挨着 FROM
- 运算符
	- 算数运算符:
		- +: 加码，没有连接作用
			- SELECT 100 + '1' -> 101
			- SELECT 100 + 'a' -> 100
			- SELECT 100 + null -> 100
		- -
		- *
		- / div
			- SELECT 100 div 0 -> NULL
		- % mod
	- 比较运算符
		- =
			- SELECT 1 = 'a', 0 = 'a' FROM DUAL;
			- 只要有 NULL, 结果就是 NULL
			- SELECT last_name, salary FROM employees WHERE comission_pct = NULL; 空
		- <=> 安全等于
			- 可以对 NULL 进行判断
			- SELECT 1 <=> 2, NULL <=> NULL; 0, 1
			- SELECT last_name, salary FROM employees WHERE comission_pct <=> NULL; 可查到
		- <> !=
		- <
		- <=
		- \>
		- \>=
		- IS NULL
		- ISNULL()
		- IS NOTNULL
		- LEAST('g', 'b', 't', 'm'): 最小 'b'
		- GREATEST('g', 'b', 't', 'm'): 最大 't'
		- BETWEEN ...(下界) AND ...(上界) 包含边界
		- IN (set)
			- SELECT * FROM employees WHERE department_id IN (10, 20, 30);
		- NOT IN
		- LIKE 模糊查询
			- %: 不确定个数的字符
				- WHERE last_name LIKE '%a%';
			- _: 一个不确定的字符
				- WHERE last_name LIKE '__a%';
			- \: 转义符
				- '_\_a%'
			- ESCAPE: 定义转义符
				- '_$_a%' ESCAPE '$'
		- REGEXP 正则
			- WHERE 'shkstart' REGEXP '^s'
		- RLIKE
	- 逻辑运算符
		- NOT !
		- AND &&
		- OR ||
		- 异或
			- A XOR B (满足 A 且不满足 B，或者, 不满足 A 且满足 B)
		- AND 优先级高于 OR
	- 位运算符
		- & 按位与
			- SELECT 12 & 5
		- | 按位或
			- SELECT 12 | 5
		- ^ 按位异或
		- ~ 按位取反
		- \>\> 除以 2
			- SELECT 4 \>\> 1
		- << 乘以 2
			- SELECT 4 << 1
- 排序与分页
	- 排序
		- ORDER BY ... ASC | DESC


